@startuml

abstract class Command {
    Event[] execute()
}

abstract class Event
abstract class EventStore   {
    add(Event)
}
abstract StatePersister
abstract class Reactor

class CommandHandler {
    EventStore eventStore
    {method} process(Command command)
}

Command -down- Event : produces >
Event -down- EventStore : flows into >
EventStore -down- StatePersister : persists events\n sourced from <
EventStore -right> Reactor : reacts on events\n sourced from <


@enduml